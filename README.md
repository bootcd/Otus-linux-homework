```
Домашнее задание
Работа с загрузчиком
1. Попасть в систему без пароля несколькими способами
2. Установить систему с LVM, после чего переименовать VG
3. Добавить модуль в initrd
```

## Попасть в систему без пароля несколькими способами
#### 1. Грузимся с установочного диска в rescue, выбираем вариант поиск и монтирование корневой системы, переходим в командную строку с правами root. Можем взаимодействовать с нашей системой.
#### 2. В rescue моде, идем в то место, где примонтирован корень, открываем файл shadow, находим строчку про вользваотеля root, она будет первой, удаляем символы, которые обозначают шифрованный пароль
```
cd /mnt/sysimage
vi etc/shadow
```
Сохраняем файл, перезагружаемся, в login: пишем root нажимаем Enter - мы в системе

#### 3. В меню выбора ядра ОС, нажимаем `e` на нужном ядре. Попадаем в меню редактирования параметров. Ищем строчку с названием нашего ядра и параметр `ro`. Меняем на `rw` и пишем дальше `init=/sysroot/bin/sh`. Нажимаем `Ctrl+x`, получаем нужное меню  с командной строкой.
в командной строке вводим `chroot/sysroot`
Получаем возможность с помощью команды `passwd` сменить пароль root

#### 4. В Legacy системах, можно было сменить пароль от root, попав в `single mode` прописав в параметрах загрузки ядра `s` и загрузив его через кнопку `b`
В свое время мне досталась инфркаструктура из 10 шт. Centos5 серверов и никакой документации от предыдущего хозяина. Так что упражнялся как раз через `single`


##Установить систему с LVM, после чего переименовать VG
#### 1. Установку произвел с помощью Vagrantfile из 1-го ДЗ.
Корневой раздел примонтирован на `/dev/VolGroup/LogVol00`
#### 2. Переименуем lvm группу
`vgrename /dev/VolGroup00 /dev/VG0`
#### 3. Сменим название группы на новое в тех файлах, в которых оно фигурирует
```
/etc/fstab
/boot/grub2/grub.cfg
/etc/default/grub
```
#### 4. Пересоберем образ nitrd
`mkinitrd -f  /boot/initramfs-$(uname -r).img $(uname -r)`
После перезагрузки видим, что название группы изменилось.

